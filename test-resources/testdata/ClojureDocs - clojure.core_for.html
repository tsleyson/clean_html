<!--?xml version="1.0" encoding="ISO-8859-1"?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
	<title>ClojureDocs - clojure.core/for</title>
	<meta name="description" content="Documentation and examples for Clojure.">
	<meta name="google-site-verification" content="XjzqkjEPtcgtLjhnqAvtnVSeveEccs-O_unFGGlbk4g">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" charset="utf-8">
	<link rel="search" type="application/opensearchdescription+xml" title="ClojureDocs" href="http://clojuredocs.org/opensearch.xml">
	<link href="ClojureDocs%20-%20clojure.core_for_files/reset.css" media="screen" rel="stylesheet" type="text/css">
<link href="ClojureDocs%20-%20clojure.core_for_files/text.css" media="screen" rel="stylesheet" type="text/css">
<link href="ClojureDocs%20-%20clojure.core_for_files/grid.css" media="screen" rel="stylesheet" type="text/css">
<link href="ClojureDocs%20-%20clojure.core_for_files/common.css" media="screen" rel="stylesheet" type="text/css">
<link href="ClojureDocs%20-%20clojure.core_for_files/main.css" media="screen" rel="stylesheet" type="text/css">
<link href="ClojureDocs%20-%20clojure.core_for_files/shCore.css" media="screen" rel="stylesheet" type="text/css">
<link href="ClojureDocs%20-%20clojure.core_for_files/shThemeDefault.css" media="screen" rel="stylesheet" type="text/css">
	<script src="ClojureDocs%20-%20clojure.core_for_files/ga.js" async="" type="text/javascript"></script><script src="ClojureDocs%20-%20clojure.core_for_files/shCore.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/shBrushClojure.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/jquery-1.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/jquery-ui-1.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/jquery_003.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/jquery_002.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/jquery.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/showdown.js" type="text/javascript"></script>
<script src="ClojureDocs%20-%20clojure.core_for_files/cd.js" type="text/javascript"></script>

	<script type="text/javascript" charset="utf-8">
	// <![CDATA[
	
	CD.ROOT_URL = ""
	
	function setUpInternalNav() {
		$(".scroll").click(function(event){
			//prevent the default action for the click event
			event.preventDefault();

			//get the full url - like mysitecom/index.htm#home
			var full_url = this.href;

			//split the url by # and get the anchor target name - home in mysitecom/index.htm#home
			var parts = full_url.split("#");
			var trgt = parts[1];
			
			//get the top offset of the target anchor
			var target_offset = $("a[name="+trgt+"]").offset();
			var target_top = target_offset.top - 10;

			//goto that anchor by setting the body scroll top to anchor top
			$('html, body').animate({scrollTop:target_top}, 500);
		});
	}
	
	$(document).ready(function() {
		setUpInternalNav()
		var mainText = "Search";
		$("#main_search").makeFocusBlur(mainText, {setColorOnInit: true})

		var acUrl = "/ac_search";
		
		//acUrl = "/ac_search/clojure_core";
		
		
		$('#main_search').keydown(function(e) {
			if(e.ctrlKey && e.which == 13) {
				$(".search form").append("<input type='hidden' name='feeling_lucky' value='true' />")
			}
		})
			
		$(document).keydown(function(e) {
			if(e.ctrlKey && (e.which == 83)) {
				$('#main_search').focus()
			}
			
			e.stopPropagation();
		})
	})
	// ]]>	
	</script>

	<script type="text/javascript">
	/*** UserVoice ***/
	var uservoiceOptions = {
		/* required */
		key: 'clojuredocs',
		host: 'clojuredocs.uservoice.com', 
		forum: '64757',
		showTab: true,  
		/* optional */
		alignment: 'right',
		background_color:'#ccc', 
		text_color: 'white',
		hover_color: '#888',
		lang: 'en'
	};

	function _loadUserVoice() {
		var s = document.createElement('script');
		s.setAttribute('type', 'text/javascript');
		s.setAttribute('src', ("https:" == document.location.protocol ? "https://" : "http://") + "cdn.uservoice.com/javascripts/widgets/tab.js");
		document.getElementsByTagName('head')[0].appendChild(s);
	}
	_loadSuper = window.onload;
	window.onload = (typeof window.onload != 'function') ? _loadUserVoice : function() { _loadSuper(); _loadUserVoice();};
	</script>
	
	<script type="text/javascript">
	  /*** Google Analytics ***/
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-17348828-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>

<script src="ClojureDocs%20-%20clojure.core_for_files/tab.js" type="text/javascript"></script><style media="screen" type="text/css">    #uservoice-dialog {      z-index: 100003;      display: block;      text-align: left;      margin: -2em auto 0 auto;      position: fixed;     }        #uservoice-overlay {      position: fixed;      z-index:100002;      width: 100%;      height: 100%;      left: 0;      top: 0;      background-color: #000;      opacity: 0.7;    }        #uservoice-overlay p {      padding: 5px;      color: #ddd;      font: bold 14px arial, sans-serif;      margin: 0;      letter-spacing: -1px;    }        #uservoice-dialog #uservoice-dialog-close {      position: absolute;      height: 48px;      width: 48px;      top: -11px;      right: -12px;      color: #06c;      cursor: pointer;      background-position: 0 0;      background-repeat: no-repeat;      background-color: transparent;    }        html.dialog-open object,    html.dialog-open embed {      visibility: hidden;    }    a#uservoice-dialog-close { background-image: url(http://cdn.uservoice.com/images/icons/close.png); }</style><style media="screen" type="text/css">    body a#uservoice-feedback-tab,    body a#uservoice-feedback-tab:link {      background-position: 2px 50% !important;      position: fixed !important;      top: 45% !important;      display: block !important;      width: 25px !important;      height: 98px !important;      margin: -45px 0 0 0 !important;      padding: 0 !important;      z-index: 100001 !important;      background-position: 2px 50% !important;      background-repeat: no-repeat !important;      text-indent: -9000px;    }        body a#uservoice-feedback-tab:hover {      cursor: pointer;    }        a#uservoice-feedback-tab {       right: 0;       background-repeat: no-repeat;       background-color: #ccc;       background-image: url(http://cdn.uservoice.com/images/widgets/en/feedback_tab_white.png);       border: outset 1px #ccc;       border-right: none;     }        a#uservoice-feedback-tab:hover {       background-color: #888;       border: outset 1px #888;       border-right: none;     }</style></head>

<body><div id="uservoice-feedback"><a id="uservoice-feedback-tab" "="" onclick="UserVoice.Popin.show(); return false;" onmouseover="UserVoice.Popin.preload();" href="http://clojuredocs.uservoice.com/forums/64757?lang=en">Open Feedback Dialog</a><div id="uservoice-dialog" class="uservoice-component" style="display:none;"><a href="#close" onclick="UserVoice.Dialog.close(); return false;" id="uservoice-dialog-close" title="Close Dialog"><span style="display: none;">Close Dialog</span></a><div id="uservoice-dialog-content"><iframe id="uservoice_dialog_iframe" src="ClojureDocs%20-%20clojure.core_for_files/popin.html" allowtransparency="true" style="height: 530px; width: 350px;" frameborder="0" height="530px" scrolling="no" width="350px"></iframe></div></div></div>
	<script type="text/javascript" charset="utf-8">
	$(document).ready(function() {
		$("#main_search").autocomplete({
			source: function(req, add) {
				$.getJSON("/search_autocomplete", req, function(data) {
					var out = []
					$.each(data, function(i, v) {
						var lbl = "<div class=\"ac_search_result\">"
						lbl += "<span class='name'>" + v.name + "</span>"
						lbl += "<span class='ns'>" + v.ns + "</span>"
						lbl += "<br />"
						lbl += "<span class='shortdoc'>" + v.shortdoc + "</span>"
						lbl += "</div>"
						out.push({label: lbl, value: v.name, href: v.href})
					})
					
					add(out)
				})
			},
			focus: function(event, ui) {
				return false
			},
			select: function(event, ui) {
				window.location.href = ui.item.href
				return false
			},
			dataType: "json"
		})
	})
</script>

<div class="header">
	<div class="container_16">
	<div class="header_content">
		<div class="user_area">
				<div class="grid_16">
            <span class="main_nav">
            <a href="http://api.clojuredocs.org/">api</a>
            &nbsp;
            <a href="http://clojuredocs.wordpress.com/">blog</a>
            &nbsp;
            <a href="http://github.com/zkim/clojuredocs">github</a>
            </span>
            &nbsp;
            &nbsp;
				  <span class="user_area_content">
				    
				      <a href="http://clojuredocs.org/login" id="login">login / sign up</a>
				      
				  </span>
				</div>
			<div class="clear"></div>
		</div>
		<div class="grid_1">
		  <img alt="Cd_logo" class="cd_logo" src="ClojureDocs%20-%20clojure.core_for_files/cd_logo.png" height="33" width="52">
		</div>
		<div class="grid_7">
			<h1><a href="http://clojuredocs.org/">ClojureDocs</a><span class="version">(beta)</span></h1>
		</div>
		<div class="grid_8">
			<div class="search">
				<form action="/search" method="get">
					<input class="submit_image" src="ClojureDocs%20-%20clojure.core_for_files/magnifying_glass_alt_24x24.png" height="20px" type="image" width="20px">
					<input aria-haspopup="true" aria-autocomplete="list" role="textbox" autocomplete="off" style="color: rgb(0, 0, 0);" id="main_search" class="text_field ui-autocomplete-input" name="q" type="text">
					
						<input name="lib" value="clojure_core" type="hidden">
					
				</form>
			</div>
		</div>
		<div class="clear"></div>
	</div>
	</div>
	<div class="clear"></div>
</div>
<div class="header_filler"></div>
<div class="clear"></div>

	
	
	


<script type="text/javascript" charset="utf-8">


$(document).ready(function() {
	CD.VarPage.init({
		varId: 5522,
		library: "Clojure Core",
		version: "1.3.0",
		editExampleFormHTML: '<div class="edit_example"><form action="/clojure_core/clojure.core/for" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="W5FCJMHUHoicFfYpCVsE976sifq4dms3UCwEP5L0ziI=" /></div>Example Content <span class="instructions">(code only, do not wrap in &lt;pre&gt; tags. See <a href="/examples_style_guide">style guide</a> for more information.)</span><div class="examples_license">	Examples submitted to clojuredocs will be licensed under the <a href="http://creativecommons.org/publicdomain/zero/1.0/">Creative Commons CC 0</a>.</div><img alt="Ajax-loader" class="ajax_loader" height="20" src="/images/ajax-loader.gif?1317195880" width="20" /><textarea class="textarea" cols="40" id="example_body" name="example[body]" rows="20"></textarea><div style="text-align: right">	<a class="cancel" href="" style="float: left">Cancel</a>	<!-- <input class="preview_example" type="button" value="Preview" /> -->	<input id="example_submit" name="commit" type="submit" value="Update Example" />	<div class="clear"></div></div><input type="hidden" name="update_example" value="true" /><input type="hidden" name="example_id" value="-1" /><fieldset class="live_preview">	<legend>Live Preview</legend>	<div class="preview">	</div></fieldset></form>',
		editCommentFormHTML: '<div class="edit_comment"><form action="/clojure_core/clojure.core/for" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="W5FCJMHUHoicFfYpCVsE976sifq4dms3UCwEP5L0ziI=" /></div>Comment <span class="instructions">(markdown allowed, code in &lt;pre /&gt;)</span><br /><textarea class="textarea" cols="40" id="comment_body" name="comment[body]" rows="20"></textarea><div style="text-align: right">	<a class="cancel" href="" style="float: left">Cancel</a>	<!-- <input class="preview_comment" type="button" value="Preview" /> -->	<input id="comment_submit" name="commit" type="submit" value="Update Comment" />	<div class="clear"></div></div><input type="hidden" name="update_comment" value="true" /><input type="hidden" name="comment_id" value="-1" /><fieldset class="live_preview">	<legend>Live Preview</legend>	<div class="preview"></div></fieldset></form>',
	})
})
</script>
<div class="container_16">
<div class="grid_3">
	
<div class="lib_nav">
	<h2><a href="http://clojuredocs.org/clojure_core">Clojure Core</a></h2>
	
	<ul class="level_0">
		<li>
			<a href="http://clojuredocs.org/quickref/Clojure%20Core">Quick Ref</a>
			<ul>
				<li><a href="http://clojuredocs.org/quickref/shortdesc/Clojure%20Core">Short Descs</a></li>
				<li><a href="http://clojuredocs.org/quickref/varsonly/Clojure%20Core">Vars Only</a></li>
			</ul>
		</li>
		<li><a href="http://clojuredocs.org/clojure_core">Alphabetical</a></li>
	</ul>
	
</div>
	
<div class="namespaces">
	<h3>Namespaces</h3>
	
		<ul>
			

				
						<li>
							clojure
							
		<ul>
			

				
				<li>
					<span class="current_ns">
					<a href="http://clojuredocs.org/clojure_core/clojure.core">core</a>
					</span>
					
		<ul>
			

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.core.protocols">protocols</a>
					</span>
					
						</li>
					
				
		</ul>
	
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.data">data</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.inspector">inspector</a>
					</span>
					
						</li>
					
				

				
						<li>
							java
							
		<ul>
			

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.java.browse">browse</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.java.browse-ui">browse-ui</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.java.io">io</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.java.javadoc">javadoc</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.java.shell">shell</a>
					</span>
					
						</li>
					
				
		</ul>
	
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.main">main</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.pprint">pprint</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.reflect">reflect</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.repl">repl</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.set">set</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.stacktrace">stacktrace</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.string">string</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.template">template</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.test">test</a>
					</span>
					
		<ul>
			

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.test.junit">junit</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.test.tap">tap</a>
					</span>
					
						</li>
					
				
		</ul>
	
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.walk">walk</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.xml">xml</a>
					</span>
					
						</li>
					
				

				
				<li>
					<span>
					<a href="http://clojuredocs.org/clojure_core/clojure.zip">zip</a>
					</span>
					
						</li>
					
				
		</ul>
	
						</li>
					
				
		</ul>
	
</div>


	&nbsp;
</div>
<div class="grid_11">
	
	<a name="top"></a>
	<div class="function_links">
		<a href="#doc" class="scroll">doc</a>
		<a href="#source" class="scroll">source</a>
		<a href="#examples" class="scroll">examples</a>
		<a href="#comments" class="scroll">comments</a>
	</div>
	
	<script type="text/javascript" charset="utf-8">
		$(document).ready(function() {
			$(".versions_nav").click(function() {
				$(".versions_nav ul").toggle()
			})
		})
	</script>
	

	<div class="versions_nav">
		<span>
			1.3.0 
			
			<img alt="Arrow_down_16x16" src="ClojureDocs%20-%20clojure.core_for_files/arrow_down_16x16.png" height="16" width="16">
		</span>
		<ul>
			<!--  -->
		
			
			<li>
				
					<a href="http://clojuredocs.org/clojure_core/1.2.0/clojure.core/for" class="">1.2.0</a>
				
			</li>
		
			
			<li>
				
					<a href="http://clojuredocs.org/clojure_core/1.3.0/clojure.core/for" class="selected stable">1.3.0 permalink</a>
				
			</li>
		
		</ul>
		<!-- <a href="/v/5522">short link to this var</a> -->
	</div>
	<div class="clear"></div>
	<div class="function_header">
	<h1>
		for
	</h1>
	<h2>
		<span class="ns">
			<a href="http://clojuredocs.org/clojure_core/1.3.0/clojure.core">clojure.core</a>
		</span>
	</h2>
	
	<div class="clear"></div>
	</div>
	
	
	<div class="usage">
		<ul>
			
			<li>(for seq-exprs body-expr)</li>
			
		</ul>
	</div>
	

	
	
	<div class="doc">
		<a class="internal_nav scroll" href="#doc" name="doc"></a>
		<div class="content">List comprehension. Takes a vector of one or more<br> binding-form/collection-expr pairs, each followed by zero or more<br> modifiers, and yields a lazy sequence of evaluations of expr.<br> Collections are iterated in a nested fashion, rightmost fastest,<br> and nested coll-exprs can refer to bindings created in prior<br> binding-forms.  Supported modifiers are: :let [binding-form expr ...],<br> :while test, :when test.<br><br>(take 100 (for [x (range 100000000) y (range 1000000) :while (&lt; y x)] [x y]))</div>
		<div class="copyright_license">
			Â© Rich Hickey.  All rights reserved.
			
			<a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License 1.0</a>
		</div>
	</div>
	
	
	<div class="examples">
		<h3>
			<a class="internal_nav scroll" href="#examples" name="examples">
				<span id="examples_count">11</span> <span id="examples_desc">Examples</span>
			</a>
			<a class="top scroll" href="#top">top</a>
		</h3>
		
		<ul id="var_examples">
		
			<li>
				<div class="example" id="example_148">
	
	<div class="controls">
		<a class="permalink" name="example_148" href="#example_148">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/148" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_323766"><div class="bar      "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">[</code><code class="value">0</code> <code class="value">1</code> <code class="value">2</code> <code class="value">3</code> <code class="value">4</code> <code class="value">5</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:let</code> <code class="keyword">[</code><code class="plain">y </code><code class="keyword">(</code><code class="functions">*</code> <code class="plain">x </code><code class="value">3</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:when</code> <code class="keyword">(</code><code class="functions">even?</code> <code class="plain">y</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="keyword">(</code><code class="value">0</code> <code class="value">6</code> <code class="value">12</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">user=&gt; (for [x [0 1 2 3 4 5]
             :let [y (* x 3)]
             :when (even? y)]
         y)
(0 6 12)
</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_189">
	
	<div class="controls">
		<a class="permalink" name="example_189" href="#example_189">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/189" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_439639"><div class="bar     "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="preprocessor">def</code> <code class="plain">digits </code><code class="keyword">(</code><code class="functions">seq</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x1 digits x2 digits</code><code class="keyword">]</code> <code class="keyword">(</code><code class="functions">*</code> <code class="plain">x1 x2</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="keyword">(</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code> <code class="value">2</code> <code class="value">4</code> <code class="value">6</code> <code class="value">3</code> <code class="value">6</code> <code class="value">9</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">user=&gt; (def digits (seq [1 2 3]))
user=&gt; (for [x1 digits x2 digits] (* x1 x2))
(1 2 3 2 4 6 3 6 9)</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_384">
	
	<div class="controls">
		<a class="permalink" name="example_384" href="#example_384">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/384" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_877582"><div class="bar            "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">[</code><code class="color1">'a</code> <code class="color1">'b</code> <code class="color1">'c</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="plain">a </code><code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">a </code><code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">a </code><code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">b </code><code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">b </code><code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">b </code><code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">c </code><code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">c </code><code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">c </code><code class="value">3</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">user=&gt; (for [x ['a 'b 'c] 
             y [1 2 3]] 
          [x y])

([a 1] [a 2] [a 3] [b 1] [b 2] [b 3] [c 1] [c 2] [c 3])</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_385">
	
	<div class="controls">
		<a class="permalink" name="example_385" href="#example_385">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/385" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_83712"><div class="bar         "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">1</code> <code class="value">6</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:let</code> <code class="keyword">[</code><code class="plain">y </code><code class="keyword">(</code><code class="functions">*</code> <code class="plain">x x</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">z </code><code class="keyword">(</code><code class="functions">*</code> <code class="plain">x x x</code><code class="keyword">)</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y z</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">4</code> <code class="value">8</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">9</code> <code class="value">27</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">4</code> <code class="value">16</code> <code class="value">64</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">25</code> <code class="value">125</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">user=&gt; (for [x (range 1 6) 
             :let [y (* x x) 
                   z (* x x x)]] 
         [x y z])

([1 1 1] [2 4 8] [3 9 27] [4 16 64] [5 25 125])
</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_557">
	
	<div class="controls">
		<a class="permalink" name="example_557" href="#example_557">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/557" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_901407"><div class="bar "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">7</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">*</code> <code class="plain">x x</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="keyword">(</code><code class="value">9</code> <code class="value">16</code> <code class="value">25</code> <code class="value">36</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">(for [x (range 3 7)] 
    (* x x))

(9 16 25 36)</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_618">
	
	<div class="controls">
		<a class="permalink" name="example_618" href="#example_618">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/618" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_677821"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code> <code class="keyword">'(</code><code class="keyword">[</code><code class="constants">:a</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="constants">:b</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="constants">:c</code> <code class="value">0</code><code class="keyword">]</code><code class="keyword">)</code> <code class="constants">:when</code> <code class="keyword">(</code><code class="functions">=</code> <code class="plain">y </code><code class="value">0</code><code class="keyword">)</code><code class="keyword">]</code> <code class="plain">x</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="keyword">(</code><code class="constants">:c</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">user=&gt; (for [[x y] '([:a 1] [:b 2] [:c 0]) :when (= y 0)] x)
(:c)
</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_913">
	
	<div class="controls">
		<a class="permalink" name="example_913" href="#example_913">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/913" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_490736"><div class="bar "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments">; Demonstrating difference between :when and :while</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">time</code> <code class="keyword">(</code><code class="functions">dorun</code> <code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">1000</code><code class="keyword">)</code> <code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">10000</code><code class="keyword">)</code> <code class="constants">:when</code> <code class="keyword">(</code><code class="functions">&gt;</code> <code class="plain">x y</code><code class="keyword">)</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="string">"Elapsed time: 2898.908 msecs"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="value">nil</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">time</code> <code class="keyword">(</code><code class="functions">dorun</code> <code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">1000</code><code class="keyword">)</code> <code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">10000</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="functions">&gt;</code> <code class="plain">x y</code><code class="keyword">)</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>8</code></td><td class="content"><code class="string">"Elapsed time: 293.677 msecs"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>9</code></td><td class="content"><code class="value">nil</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">; Demonstrating difference between :when and :while

user=&gt; (time (dorun (for [x (range 1000) y (range 10000) :when (&gt; x y)] [x y])))
"Elapsed time: 2898.908 msecs"
nil

user=&gt; (time (dorun (for [x (range 1000) y (range 10000) :while (&gt; x y)] [x y])))
"Elapsed time: 293.677 msecs"
nil</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_933">
	
	<div class="controls">
		<a class="permalink" name="example_933" href="#example_933">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/933" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_161344"><div class="bar "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments">; Demonstrating difference between :when and :while</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code><code class="keyword">)</code> <code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code><code class="keyword">)</code> <code class="constants">:when</code> <code class="keyword">(</code><code class="functions">not=</code> <code class="plain">x y</code><code class="keyword">)</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">0</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">0</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">1</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code><code class="keyword">)</code> <code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="functions">not=</code> <code class="plain">x y</code><code class="keyword">)</code><code class="keyword">]</code> <code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">1</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">1</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">; Demonstrating difference between :when and :while
user=&gt; (for [x (range 3) y (range 3) :when (not= x y)] [x y])
([0 1] [0 2] [1 0] [1 2] [2 0] [2 1])
user=&gt; (for [x (range 3) y (range 3) :while (not= x y)] [x y])
([1 0] [2 0] [2 1])</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_962">
	
	<div class="controls">
		<a class="permalink" name="example_962" href="#example_962">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/962" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_226561"><div class="bar    "><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">;; More examples illustrating the difference between :when and :while</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="comments">;; Simple but inefficient method of checking whether a number is</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="comments">;; prime.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">defn</code> <code class="plain">prime? </code><code class="keyword">[</code><code class="plain">n</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">not-any?</code> <code class="functions">zero?</code> <code class="keyword">(</code><code class="functions">map</code> <code class="keyword">#(</code><code class="functions">rem</code> <code class="plain">n </code><code class="keyword">%</code><code class="keyword">)</code> <code class="keyword">(</code><code class="functions">range</code> <code class="value">2</code> <code class="plain">n</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="color1">#'user/prime</code><code class="plain">?</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">33</code> <code class="value">2</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="keyword">(</code><code class="value">3</code> <code class="value">5</code> <code class="value">7</code> <code class="value">9</code> <code class="value">11</code> <code class="value">13</code> <code class="value">15</code> <code class="value">17</code> <code class="value">19</code> <code class="value">21</code> <code class="value">23</code> <code class="value">25</code> <code class="value">27</code> <code class="value">29</code> <code class="value">31</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="comments">;; :when continues through the collection even if some have the</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="comments">;; condition evaluate to false, like filter</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">33</code> <code class="value">2</code><code class="keyword">)</code> <code class="constants">:when</code> <code class="keyword">(</code><code class="plain">prime? x</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">x</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="keyword">(</code><code class="value">3</code> <code class="value">5</code> <code class="value">7</code> <code class="value">11</code> <code class="value">13</code> <code class="value">17</code> <code class="value">19</code> <code class="value">23</code> <code class="value">29</code> <code class="value">31</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="comments">;; :while stops at the first collection element that evaluates to</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="comments">;; false, like take-while</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">33</code> <code class="value">2</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="plain">prime? x</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">x</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="keyword">(</code><code class="value">3</code> <code class="value">5</code> <code class="value">7</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="comments">;; The examples above can easily be rewritten with filter or</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="comments">;; take-while.&nbsp; When you have a for with multiple binding forms, so</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="comments">;; that the iteration occurs in a nested fashion, it becomes possible</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="comments">;; to write something briefly with 'for' that would be more verbose or</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="comments">;; unwieldy with nested filter or take-while expressions.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">17</code> <code class="value">2</code><code class="keyword">)</code> <code class="constants">:when</code> <code class="keyword">(</code><code class="plain">prime? x</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">17</code> <code class="value">2</code><code class="keyword">)</code> <code class="constants">:when</code> <code class="keyword">(</code><code class="plain">prime? y</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code> <code class="value">3</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">3</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">3</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">3</code> <code class="value">11</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">3</code> <code class="value">13</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code> <code class="value">5</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">5</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">5</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">5</code> <code class="value">11</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">5</code> <code class="value">13</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code> <code class="value">7</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">7</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">7</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">7</code> <code class="value">11</code><code class="keyword">]</code> <code class="keyword">[</code> <code class="value">7</code> <code class="value">13</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">11</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">11</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">11</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">11</code> <code class="value">11</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">11</code> <code class="value">13</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">13</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">13</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">13</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">13</code> <code class="value">11</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">13</code> <code class="value">13</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">17</code> <code class="value">2</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="plain">prime? x</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">3</code> <code class="value">17</code> <code class="value">2</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="plain">prime? y</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">3</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">7</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">5</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">7</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">7</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">7</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="comments">;; This example only gives a finite result because of the :while</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="comments">;; expressions.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">(</code><code class="functions">range</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="functions">&lt;</code> <code class="plain">x </code><code class="value">10</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y </code><code class="keyword">(</code><code class="functions">range</code><code class="keyword">)</code> <code class="constants">:while</code> <code class="keyword">(</code><code class="functions">&lt;=</code> <code class="plain">y x</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">0</code> <code class="value">0</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">1</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">1</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">2</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">2</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">3</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">4</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">4</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">4</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">4</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">4</code> <code class="value">4</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">5</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">4</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">5</code> <code class="value">5</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">6</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">6</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">6</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">6</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">6</code> <code class="value">4</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">6</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">6</code> <code class="value">6</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>59</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">7</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">4</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">6</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">7</code> <code class="value">7</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>60</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">8</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">4</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">6</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">8</code> <code class="value">8</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>61</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">9</code> <code class="value">0</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">3</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">4</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">5</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">6</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">7</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">8</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">9</code> <code class="value">9</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">;; More examples illustrating the difference between :when and :while

;; Simple but inefficient method of checking whether a number is
;; prime.
user=&gt; (defn prime? [n]
         (not-any? zero? (map #(rem n %) (range 2 n))))
#'user/prime?

user=&gt; (range 3 33 2)
(3 5 7 9 11 13 15 17 19 21 23 25 27 29 31)

;; :when continues through the collection even if some have the
;; condition evaluate to false, like filter
user=&gt; (for [x (range 3 33 2) :when (prime? x)]
         x)
(3 5 7 11 13 17 19 23 29 31)

;; :while stops at the first collection element that evaluates to
;; false, like take-while
user=&gt; (for [x (range 3 33 2) :while (prime? x)]
         x)
(3 5 7)

;; The examples above can easily be rewritten with filter or
;; take-while.  When you have a for with multiple binding forms, so
;; that the iteration occurs in a nested fashion, it becomes possible
;; to write something briefly with 'for' that would be more verbose or
;; unwieldy with nested filter or take-while expressions.

user=&gt; (for [x (range 3 17 2) :when (prime? x)
             y (range 3 17 2) :when (prime? y)]
         [x y])
([ 3 3] [ 3 5] [ 3 7] [ 3 11] [ 3 13]
 [ 5 3] [ 5 5] [ 5 7] [ 5 11] [ 5 13]
 [ 7 3] [ 7 5] [ 7 7] [ 7 11] [ 7 13]
 [11 3] [11 5] [11 7] [11 11] [11 13]
 [13 3] [13 5] [13 7] [13 11] [13 13])

user=&gt; (for [x (range 3 17 2) :while (prime? x)
             y (range 3 17 2) :while (prime? y)]
         [x y])
([3 3] [3 5] [3 7]
 [5 3] [5 5] [5 7]
 [7 3] [7 5] [7 7])

;; This example only gives a finite result because of the :while
;; expressions.
user=&gt; (for [x (range) :while (&lt; x 10) 
             y (range) :while (&lt;= y x)]
         [x y])

([0 0]
 [1 0] [1 1]
 [2 0] [2 1] [2 2]
 [3 0] [3 1] [3 2] [3 3]
 [4 0] [4 1] [4 2] [4 3] [4 4]
 [5 0] [5 1] [5 2] [5 3] [5 4] [5 5]
 [6 0] [6 1] [6 2] [6 3] [6 4] [6 5] [6 6]
 [7 0] [7 1] [7 2] [7 3] [7 4] [7 5] [7 6] [7 7]
 [8 0] [8 1] [8 2] [8 3] [8 4] [8 5] [8 6] [8 7] [8 8]
 [9 0] [9 1] [9 2] [9 3] [9 4] [9 5] [9 6] [9 7] [9 8] [9 9])
</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_963">
	
	<div class="controls">
		<a class="permalink" name="example_963" href="#example_963">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/963" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_494609"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="comments">;; Here are a couple of examples where the only difference is where</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="comments">;; the :while is placed, but it makes a significant difference in the</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="comments">;; behavior.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="comments">;; When x=2 y=1 is reached, :while (&lt;= x y) evaluates false, so all</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="comments">;; further items in the y collection are skipped.&nbsp; When x=3 y=1 is</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="comments">;; reached, the same thing happens.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:while</code> <code class="keyword">(</code><code class="functions">&lt;=</code> <code class="plain">x y</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">z </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y z</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">1</code> <code class="value">3</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">3</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">3</code> <code class="value">3</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="comments">;; This is different.&nbsp; When x=2 y=1 z=1 is reached, :while (&lt;= x y)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="comments">;; evaluates false, but since the :while is after the binding for z,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="comments">;; all further items in the z collection are skipped.&nbsp; Then x=2 y=2</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="comments">;; z=1 is tried, where the while expresssion evaluates true.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="plain">user=&gt; </code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">x </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">y </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">z </code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:while</code> <code class="keyword">(</code><code class="functions">&lt;=</code> <code class="plain">x y</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">x y z</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="keyword">(</code><code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">1</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">1</code> <code class="value">3</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">3</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">1</code> <code class="value">3</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">2</code> <code class="value">2</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">2</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">2</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">2</code> <code class="value">3</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">3</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">2</code> <code class="value">3</code> <code class="value">3</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="keyword">[</code><code class="value">3</code> <code class="value">3</code> <code class="value">1</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">3</code> <code class="value">2</code><code class="keyword">]</code> <code class="keyword">[</code><code class="value">3</code> <code class="value">3</code> <code class="value">3</code><code class="keyword">]</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">;; Here are a couple of examples where the only difference is where
;; the :while is placed, but it makes a significant difference in the
;; behavior.

;; When x=2 y=1 is reached, :while (&lt;= x y) evaluates false, so all
;; further items in the y collection are skipped.  When x=3 y=1 is
;; reached, the same thing happens.

user=&gt; (for [x [1 2 3]
             y [1 2 3]
             :while (&lt;= x y)
             z [1 2 3]]
         [x y z])
([1 1 1] [1 1 2] [1 1 3]
 [1 2 1] [1 2 2] [1 2 3]
 [1 3 1] [1 3 2] [1 3 3])

;; This is different.  When x=2 y=1 z=1 is reached, :while (&lt;= x y)
;; evaluates false, but since the :while is after the binding for z,
;; all further items in the z collection are skipped.  Then x=2 y=2
;; z=1 is tried, where the while expresssion evaluates true.

user=&gt; (for [x [1 2 3]
             y [1 2 3]
             z [1 2 3]
             :while (&lt;= x y)]
         [x y z])
([1 1 1] [1 1 2] [1 1 3]
 [1 2 1] [1 2 2] [1 2 3]
 [1 3 1] [1 3 2] [1 3 3]
 [2 2 1] [2 2 2] [2 2 3]
 [2 3 1] [2 3 2] [2 3 3]
 [3 3 1] [3 3 2] [3 3 3])
</div>
	<div class="clear"></div>
</div>

			</li>
		
			<li>
				<div class="example" id="example_1005">
	
	<div class="controls">
		<a class="permalink" name="example_1005" href="#example_1005">link</a>
		|
		<a href="http://clojuredocs.org/examples/view_changes/1005" class="view_changes">changes</a>
		
	</div>
	
	<div class="clear"></div>
	<div class="content">
	<div class="syntaxhighlighter  " id="highlighter_441486"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">(</code><code class="functions">defn</code> <code class="plain">all-files-present?</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="string">"Takes a list of real file names, and returns a map of files present 1</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="string">and not present 0."</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="keyword">[</code><code class="functions">file-seq</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">fnam </code><code class="functions">file-seq</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;</code><code class="constants">:let</code> <code class="keyword">[</code><code class="plain">stat-map </code><code class="keyword">{</code><code class="keyword">(</code><code class="functions">keyword</code> <code class="plain">fnam</code><code class="keyword">)</code> <code class="keyword">(</code><code class="plain">look-for fnam </code><code class="string">"f"</code><code class="keyword">)</code><code class="keyword">}</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">stat-map</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="keyword">(</code><code class="functions">into</code> <code class="keyword">{</code><code class="keyword">}</code>&nbsp; <code class="keyword">(</code><code class="plain">all-files-present? </code><code class="keyword">'(</code><code class="string">"Makefile"</code> <code class="string">"build.sh"</code> <code class="string">"real-estate.csv"</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="keyword">{</code><code class="constants">:Makefile</code> <code class="value">1</code><code class="plain">, </code><code class="constants">:build</code><code class="plain">.sh </code><code class="value">1</code><code class="plain">, </code><code class="constants">:real-estate</code><code class="plain">.csv </code><code class="value">0</code><code class="keyword">}</code></td></tr></tbody></table></div></div></div>
	</div>
	<div class="hidden plain_content">(defn all-files-present?
"Takes a list of real file names, and returns a map of files present 1
and not present 0."
[file-seq]
(for [fnam file-seq
 :let [stat-map {(keyword fnam) (look-for fnam "f")}]]
  stat-map))

(into {}  (all-files-present? '("Makefile" "build.sh" "real-estate.csv")))

{:Makefile 1, :build.sh 1, :real-estate.csv 0}</div>
	<div class="clear"></div>
</div>

			</li>
		
		</ul>
		
		
		
		
			Log in to add / edit an example.
			
	</div>
	
	<div class="see_alsos">
		<h3>See Also <a class="top scroll" href="#top">top</a></h3>

		<ul>
			
			<li class="see_also_item" id="see_also_item_599">
				
<div>
	<div class="controls">
		<span class="vote_count ">1</span>

			
		
	</div>
	
	<a href="http://clojuredocs.org/clojure_core/clojure.core/doseq"><span class="ns">clojure.core/</span><span class="name">doseq</span></a>
				
	<p class="shortdoc">Repeatedly executes body (presumably for side-effects) with
  binding</p>
	<div class="clear"></div>
</div>

			</li>
			
			<li class="see_also_item" id="see_also_item_907">
				
<div>
	<div class="controls">
		<span class="vote_count ">0</span>

			
		
	</div>
	
	<a href="http://clojuredocs.org/clojure_core/clojure.core/doall"><span class="ns">clojure.core/</span><span class="name">doall</span></a>
				
	<p class="shortdoc">When lazy sequences are produced via functions that have side
  effec</p>
	<div class="clear"></div>
</div>

			</li>
			
			<li class="see_also_item" id="see_also_item_1216">
				
<div>
	<div class="controls">
		<span class="vote_count ">0</span>

			
		
	</div>
	
	<a href="http://clojuredocs.org/clojure_core/clojure.core/recur"><span class="ns">clojure.core/</span><span class="name">recur</span></a>
				
	<p class="shortdoc">Please see http://clojure.org/special_forms#recur</p>
	<div class="clear"></div>
</div>

			</li>
			
		</ul>
		
		Log in to add a see also.
		
		<div class="clear"></div>
	</div>
	
	<div class="source">
		<h3 style="margin: 0px; padding: 0px;">
			<img alt="Plus_12x12" id="expand_source" src="ClojureDocs%20-%20clojure.core_for_files/plus_12x12.png" height="12" width="12">
			<img alt="Minus_12x12" id="collapse_source" src="ClojureDocs%20-%20clojure.core_for_files/minus_12x12.png" height="12" width="12">
			<a class="internal_nav scroll" href="#source" name="source">Source</a>
			
			<span class="file">
				
				clojure/core.clj:4074
				
			</span>
			
			<a class="top scroll" href="#top">top</a>

		</h3>
		<div class="source_content">
			<div class="syntaxhighlighter  " id="highlighter_173296"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="keyword">(</code><code class="functions">defmacro</code> <code class="functions">for</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">"List comprehension. Takes a vector of one or more</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">binding-form/collection-expr pairs, each followed by zero or more</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">modifiers, and yields a lazy sequence of evaluations of expr.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">Collections are iterated in a nested fashion, rightmost fastest,</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">and nested coll-exprs can refer to bindings created in prior</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">binding-forms.&nbsp; Supported modifiers are: :let [binding-form expr ...],</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;</code><code class="string">:while test, :when test.</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="string">(take 100 (for [x (range 100000000) y (range 1000000) :while (&lt; y x)] [x y]))"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">{</code><code class="constants">:added</code> <code class="string">"1.0"</code><code class="keyword">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">[</code><code class="plain">seq-exprs body-expr</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">(</code><code class="plain">assert-args </code><code class="functions">for</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">vector?</code> <code class="plain">seq-exprs</code><code class="keyword">)</code> <code class="string">"a vector for its binding"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">even?</code> <code class="keyword">(</code><code class="functions">count</code> <code class="plain">seq-exprs</code><code class="keyword">)</code><code class="keyword">)</code> <code class="string">"an even number of forms in binding vector"</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">to-groups </code><code class="keyword">(</code><code class="preprocessor">fn</code> <code class="keyword">[</code><code class="plain">seq-exprs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="plain">reduce1 </code><code class="keyword">(</code><code class="preprocessor">fn</code> <code class="keyword">[</code><code class="plain">groups </code><code class="keyword">[</code><code class="plain">k v</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">if</code> <code class="keyword">(</code><code class="functions">keyword?</code> <code class="plain">k</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">conj</code> <code class="keyword">(</code><code class="functions">pop</code> <code class="plain">groups</code><code class="keyword">)</code> <code class="keyword">(</code><code class="functions">conj</code> <code class="keyword">(</code><code class="functions">peek</code> <code class="plain">groups</code><code class="keyword">)</code> <code class="keyword">[</code><code class="plain">k v</code><code class="keyword">]</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">conj</code> <code class="plain">groups </code><code class="keyword">[</code><code class="plain">k v</code><code class="keyword">]</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">[</code><code class="keyword">]</code> <code class="keyword">(</code><code class="functions">partition</code> <code class="value">2</code> <code class="plain">seq-exprs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">err </code><code class="keyword">(</code><code class="preprocessor">fn</code> <code class="keyword">[</code><code class="keyword">&amp;</code> <code class="plain">msg</code><code class="keyword">]</code> <code class="keyword">(</code><code class="preprocessor">throw</code> <code class="keyword">(</code><code class="plain">IllegalArgumentException. ^String </code><code class="keyword">(</code><code class="functions">apply</code> <code class="functions">str</code> <code class="plain">msg</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">emit-bind </code><code class="keyword">(</code><code class="preprocessor">fn</code> <code class="plain">emit-bind </code><code class="keyword">[</code><code class="keyword">[</code><code class="keyword">[</code><code class="plain">bind expr </code><code class="keyword">&amp;</code> <code class="plain">mod-pairs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">&amp;</code> <code class="keyword">[</code><code class="keyword">[</code><code class="plain">_ next-expr</code><code class="keyword">]</code> <code class="constants">:as</code> <code class="plain">next-groups</code><code class="keyword">]</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">giter </code><code class="keyword">(</code><code class="functions">gensym</code> <code class="string">"iter__"</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">gxs </code><code class="keyword">(</code><code class="functions">gensym</code> <code class="string">"s__"</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">do-mod </code><code class="keyword">(</code><code class="preprocessor">fn</code> <code class="plain">do-mod </code><code class="keyword">[</code><code class="keyword">[</code><code class="keyword">[</code><code class="plain">k v </code><code class="constants">:as</code> <code class="plain">pair</code><code class="keyword">]</code> <code class="keyword">&amp;</code> <code class="plain">etc</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">cond</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">=</code> <code class="plain">k </code><code class="constants">:let</code><code class="keyword">)</code> <code class="keyword">`(</code><code class="preprocessor">let</code> <code class="color1">~v</code> <code class="keyword">~(</code><code class="plain">do-mod etc</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">=</code> <code class="plain">k </code><code class="constants">:while</code><code class="keyword">)</code> <code class="keyword">`(</code><code class="functions">when</code> <code class="color1">~v</code> <code class="keyword">~(</code><code class="plain">do-mod etc</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">=</code> <code class="plain">k </code><code class="constants">:when</code><code class="keyword">)</code> <code class="keyword">`(</code><code class="preprocessor">if</code> <code class="color1">~v</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">~(</code><code class="plain">do-mod etc</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">recur</code> <code class="keyword">(</code><code class="functions">rest</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">keyword?</code> <code class="plain">k</code><code class="keyword">)</code> <code class="keyword">(</code><code class="plain">err </code><code class="string">"Invalid 'for' keyword "</code> <code class="plain">k</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">next-groups</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">`(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">iterys# </code><code class="keyword">~(</code><code class="plain">emit-bind next-groups</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">fs# </code><code class="keyword">(</code><code class="functions">seq</code> <code class="keyword">(</code><code class="plain">iterys# </code><code class="color1">~next-expr</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">if</code> <code class="plain">fs#</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">concat</code> <code class="plain">fs# </code><code class="keyword">(</code><code class="color1">~giter</code> <code class="keyword">(</code><code class="functions">rest</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">recur</code> <code class="keyword">(</code><code class="functions">rest</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:else</code> <code class="keyword">`(</code><code class="functions">cons</code> <code class="color1">~body-expr</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="color1">~giter</code> <code class="keyword">(</code><code class="functions">rest</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">if</code> <code class="plain">next-groups</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">#_</code><code class="string">"not the inner-most loop"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">`(</code><code class="preprocessor">fn</code> <code class="color1">~giter</code> <code class="keyword">[</code><code class="color1">~gxs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">lazy-seq</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">loop</code> <code class="keyword">[</code><code class="color1">~gxs</code> <code class="color1">~gxs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">when-first</code> <code class="keyword">[</code><code class="color1">~bind</code> <code class="color1">~gxs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">~(</code><code class="plain">do-mod mod-pairs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">#_</code><code class="string">"inner-most loop"</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">gi </code><code class="keyword">(</code><code class="functions">gensym</code> <code class="string">"i__"</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">gb </code><code class="keyword">(</code><code class="functions">gensym</code> <code class="string">"b__"</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">do-cmod </code><code class="keyword">(</code><code class="preprocessor">fn</code> <code class="plain">do-cmod </code><code class="keyword">[</code><code class="keyword">[</code><code class="keyword">[</code><code class="plain">k v </code><code class="constants">:as</code> <code class="plain">pair</code><code class="keyword">]</code> <code class="keyword">&amp;</code> <code class="plain">etc</code><code class="keyword">]</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">cond</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">=</code> <code class="plain">k </code><code class="constants">:let</code><code class="keyword">)</code> <code class="keyword">`(</code><code class="preprocessor">let</code> <code class="color1">~v</code> <code class="keyword">~(</code><code class="plain">do-cmod etc</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">=</code> <code class="plain">k </code><code class="constants">:while</code><code class="keyword">)</code> <code class="keyword">`(</code><code class="functions">when</code> <code class="color1">~v</code> <code class="keyword">~(</code><code class="plain">do-cmod etc</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">=</code> <code class="plain">k </code><code class="constants">:when</code><code class="keyword">)</code> <code class="keyword">`(</code><code class="preprocessor">if</code> <code class="color1">~v</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">~(</code><code class="plain">do-cmod etc</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>59</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">recur</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>60</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">unchecked-inc</code> <code class="color1">~gi</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>61</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">keyword?</code> <code class="plain">k</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>62</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="plain">err </code><code class="string">"Invalid 'for' keyword "</code> <code class="plain">k</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>63</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="constants">:else</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>64</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">`(</code><code class="preprocessor">do</code> <code class="keyword">(</code><code class="functions">chunk-append</code> <code class="color1">~gb</code> <code class="color1">~body-expr</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>65</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">recur</code> <code class="keyword">(</code><code class="functions">unchecked-inc</code> <code class="color1">~gi</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>66</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">`(</code><code class="preprocessor">fn</code> <code class="color1">~giter</code> <code class="keyword">[</code><code class="color1">~gxs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>67</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">lazy-seq</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>68</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">loop</code> <code class="keyword">[</code><code class="color1">~gxs</code> <code class="color1">~gxs</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>69</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">when-let</code> <code class="keyword">[</code><code class="color1">~gxs</code> <code class="keyword">(</code><code class="functions">seq</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>70</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">if</code> <code class="keyword">(</code><code class="functions">chunked-seq?</code> <code class="color1">~gxs</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>71</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">c# </code><code class="keyword">(</code><code class="functions">chunk-first</code> <code class="color1">~gxs</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>72</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">size# </code><code class="keyword">(</code><code class="functions">int</code> <code class="keyword">(</code><code class="functions">count</code> <code class="plain">c#</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>73</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="color1">~gb</code> <code class="keyword">(</code><code class="functions">chunk-buffer</code> <code class="plain">size#</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>74</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">if</code> <code class="keyword">(</code><code class="preprocessor">loop</code> <code class="keyword">[</code><code class="color1">~gi</code> <code class="keyword">(</code><code class="functions">int</code> <code class="value">0</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>75</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">if</code> <code class="keyword">(</code><code class="functions">&lt;</code> <code class="color1">~gi</code> <code class="plain">size#</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>76</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="color1">~bind</code> <code class="keyword">(</code><code class="plain">.nth c# </code><code class="color1">~gi</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>77</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">~(</code><code class="plain">do-cmod mod-pairs</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>78</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="value">true</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>79</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">chunk-cons</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>80</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">chunk</code> <code class="color1">~gb</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>81</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="color1">~giter</code> <code class="keyword">(</code><code class="functions">chunk-rest</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>82</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">chunk-cons</code> <code class="keyword">(</code><code class="functions">chunk</code> <code class="color1">~gb</code><code class="keyword">)</code> <code class="value">nil</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>83</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="color1">~bind</code> <code class="keyword">(</code><code class="functions">first</code> <code class="color1">~gxs</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>84</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">~(</code><code class="plain">do-mod mod-pairs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>85</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">`(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">iter# </code><code class="keyword">~(</code><code class="plain">emit-bind </code><code class="keyword">(</code><code class="plain">to-groups seq-exprs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>86</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">(</code><code class="plain">iter# </code><code class="keyword">~(</code><code class="functions">second</code> <code class="plain">seq-exprs</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>
			<div class="copyright_license">
				Â© Rich Hickey.  All rights reserved.

				<a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License 1.0</a>
			</div>

			<div class="references">
				Vars in <span class="ns">clojure.core/</span>for:
				
			</div>

			<div class="used_in">
				Used in 0 other vars
				
				
				
			</div>
		</div>
	</div>
	
	
	<div class="comments">
		<h3><a class="internal_nav scroll" href="#comments" name="comments">Comments</a> <a class="top scroll" href="#top">top</a></h3>
		
			<h4>2 comment(s) for <em>for</em>.</h4>
		
		
		<div class="comment" id="comment_155">
	<div class="comment_header">
		<div class="author">
			<img src="ClojureDocs%20-%20clojure.core_for_files/6c620615dfb537dbd5325380bd2eaa07.png">
			<span class="author_nickname">
				<a href="http://clojuredocs.org/profile/csmotricz">csmotricz</a>
			</span>
		</div>
		<div class="controls">
			<a name="comment_155" href="#comment_155">link</a>
		
		</div>
		<div class="clear"></div>
	</div>
	<div class="clear"></div>
	<div class="content">
	<p>Take careful note of the description's wording:</p>

<div class="syntaxhighlighter  " id="highlighter_721825"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">binding-form/collection-expr pairs, </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">each followed by zero </code><code class="functions">or</code> <code class="plain">more modifiers</code></td></tr></tbody></table></div></div></div>

<p>A consequence is that the binding list may <em>not</em> begin with a modifier, i.e a <code>:let</code>, <code>:when</code> or <code>:while</code>!</p>

<p>The following example is <strong>illegal</strong> syntax:</p>

<div class="syntaxhighlighter  " id="highlighter_85881"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="constants">:let</code> <code class="keyword">[</code><code class="plain">a </code><code class="value">1</code><code class="keyword">]</code> <code class="plain">b </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">5</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">{</code><code class="plain">a b</code><code class="keyword">}</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>

<p>While it might sometimes be convenient to start a <code>for</code> with a <code>:let</code> to reduce code clutter, the "correct" procedure is to nest the <code>for</code> in a "proper" <code>let</code>, like this:</p>

<div class="syntaxhighlighter  " id="highlighter_806383"><div class="bar"><div class="toolbar"><a class="item viewSource" style="width: 16px; height: 16px;" title="view source" href="#viewSource">view source</a><a class="item printSource" style="width: 16px; height: 16px;" title="print" href="#printSource">print</a><a class="item about" style="width: 16px; height: 16px;" title="?" href="#about">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="keyword">(</code><code class="preprocessor">let</code> <code class="keyword">[</code><code class="plain">a </code><code class="value">1</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">(</code><code class="functions">for</code> <code class="keyword">[</code><code class="plain">b </code><code class="keyword">(</code><code class="functions">range</code> <code class="value">5</code><code class="keyword">)</code><code class="keyword">]</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">{</code><code class="plain">a b</code><code class="keyword">}</code><code class="keyword">)</code><code class="keyword">)</code></td></tr></tbody></table></div></div></div>

<p>Similarly, a <code>:when</code> is better represented by nesting in an <code>if</code>.</p>

	</div>
	<div class="hidden plain_content">Take careful note of the 
description's wording:

    binding-form/collection-expr pairs, 
    each followed by zero or more modifiers

A consequence is that the binding list may *not* begin with a modifier, 
i.e a `:let`, `:when` or `:while`!

The following example is **illegal** syntax:

    (for [:let [a 1] b (range 5)] 
      {a b})

While it might sometimes be convenient to start a `for` with a `:let` to
 reduce code clutter, the "correct" procedure is to nest the `for` in a 
"proper" `let`, like this:

    (let [a 1]
      (for [b (range 5)] 
        {a b}))

Similarly, a `:when` is better represented by nesting in an `if`.

</div>
</div>

		
		<div class="comment" id="comment_174">
	<div class="comment_header">
		<div class="author">
			<img src="ClojureDocs%20-%20clojure.core_for_files/75a5fdba1a164425d43d3b9c4b830287.jpeg">
			<span class="author_nickname">
				<a href="http://clojuredocs.org/profile/Joan%20Charmant">Joan Charmant</a>
			</span>
		</div>
		<div class="controls">
			<a name="comment_174" href="#comment_174">link</a>
		
		</div>
		<div class="clear"></div>
	</div>
	<div class="clear"></div>
	<div class="content">
	<p>The fifth example should probably be shown in first position, it's the most straightforward and readable for a beginner :</p>

<p>(for [x (range 3 7)] (* x x))</p>

	</div>
	<div class="hidden plain_content">The fifth example should probably be shown in first position, it's the most straightforward and readable for a beginner : 

(for [x (range 3 7)] (* x x))</div>
</div>

		
		
			
				Log in to add a comment.
			
		
		
		<div class="hidden" id="preview_window">
		</div>
	</div>
</div>
<div class="grid_3">
	
	&nbsp;
</div>
</div>



	
	
	<div class="clear"></div>
	<div class="footer">
		ClojureDocs uses some elements of HTML5 / CSS3, and is best viewed in an up-to-date <a href="http://getfirefox.com/">gecko</a> / <a href="http://www.google.com/chrome">webkit</a> -based browser.
		<br>
		<br>
		Â© 2010 Zachary Kim <a href="http://zacharykim.com/">http://zacharykim.com</a>
		<br>
		<br>
	</div>



<ul style="z-index: 1; top: 0px; left: 0px; display: none;" aria-activedescendant="ui-active-menuitem" role="listbox" class="ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all"></ul></body></html>